{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import AsyncStorage from\"react-native-web/dist/exports/AsyncStorage\";import{deviceHeight,deviceWidth}from\"../constants/Layout\";import{Ionicons}from'@expo/vector-icons';var Comment=function(_Component){_inherits(Comment,_Component);function Comment(){var _getPrototypeOf2;var _this;_classCallCheck(this,Comment);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Comment)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={rating:0,list:_this.props.apartmentObject.comments,commentMessage:'',username:''};_this.handleButtonClick=function(rate){if(rate>5||rate<1){return alert('Invalid Rating');}else{_this.setState({list:[].concat(_toConsumableArray(_this.state.list),[{rating:_this.state.rating,comment:_this.state.commentMessage,username:_this.state.username}]),commentMessage:'',rating:''});}};_this.handleButtunReset=function(){_this.setState({commentMessage:'',rating:''});};_this.getRating=function(rate){if(rate>5||rate<1){return;}else{var i=0;var stars=[];while(i<rate){i++;stars.push(React.createElement(Ionicons,{style:styles.icon,name:\"ios-star\"}));}return stars;}};return _this;}_createClass(Comment,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;AsyncStorage.getItem('username').then(function(value){return _this2.setState({username:value});});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(View,{style:styles.container},this.state.list.length>0&&this.state.list.map(function(comment){return React.createElement(View,{style:styles.commentDisplayContainer},React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.username},comment.username),React.createElement(View,{style:styles.starIconContainer},_this3.getRating(comment.rating))),React.createElement(View,null,React.createElement(Text,null,React.createElement(Text,null,comment.comment))));}),React.createElement(View,null,React.createElement(Text,null,\"Add Your Comment\"),React.createElement(TextInput,{style:styles.textInput,onChangeText:function onChangeText(rating){return _this3.setState({rating:rating});},value:this.state.rating,placeholder:\"Rate from 1 - 5\",keyboardType:\"numeric\"}),React.createElement(TextInput,{multiline:true,style:styles.textInputBox,onChangeText:function onChangeText(text){_this3.setState({commentMessage:text});},value:this.state.commentMessage,placeholder:\"Share your own experience at this place...\"})),React.createElement(View,{style:styles.buttonContainer},React.createElement(View,{style:styles.rowContainer},React.createElement(TouchableHighlight,{underlayColor:\"transparent\",style:styles.button,onPress:function onPress(){return _this3.handleButtonClick(_this3.state.rating);}},React.createElement(View,null,React.createElement(Text,{style:styles.buttonText},\"Submit\"))),React.createElement(View,{style:styles.space}),React.createElement(TouchableHighlight,{underlayColor:\"transparent\",style:styles.button,onPress:this.handleButtunReset},React.createElement(View,null,React.createElement(Text,{style:styles.buttonText},\"Reset\"))))));}}]);return Comment;}(Component);export{Comment as default};var styles=StyleSheet.create({container:{flex:1,paddingRight:2*(deviceWidth/20)},commentDisplayContainer:{minHeight:2*(deviceHeight/20),width:16.5*(deviceWidth/20),backgroundColor:'#eaeaea',borderRadius:10,padding:10,marginBottom:0.3*(deviceHeight/20)},rowContainer:{flexDirection:'row',justifyContent:'space-between'},username:{fontWeight:'bold'},starIconContainer:{flexDirection:'row'},icon:{fontSize:0.5*(deviceHeight/20),color:'#ef4923'},textInput:{height:0.8*(deviceHeight/20),width:16.5*(deviceWidth/20),textAlign:'left',borderColor:'#dddddd',borderWidth:1,backgroundColor:'#eaeaea',padding:4,marginBottom:0.2*(deviceHeight/20)},textInputBox:{height:3*(deviceHeight/20),width:16.5*(deviceWidth/20),textAlign:'left',borderColor:'#dddddd',borderWidth:1,backgroundColor:'#eaeaea',marginRight:0.5*(deviceWidth/20),padding:4,marginBottom:0.2*(deviceHeight/20)},buttonContainer:{alignItems:'flex-end',marginBottom:1*(deviceHeight/20)},button:{height:0.7*(deviceHeight/20),width:4*(deviceWidth/20),borderRadius:50,justifyContent:'center',alignItems:'center',backgroundColor:'#0a2e49'},buttonText:{color:'#ffffff'},space:{width:0.3*(deviceWidth/20)}});","map":{"version":3,"sources":["/Users/saraluk/Documents/resihub-react-native/components/Comment.js"],"names":["React","Component","deviceHeight","deviceWidth","Ionicons","Comment","state","rating","list","props","apartmentObject","comments","commentMessage","username","handleButtonClick","rate","alert","setState","comment","handleButtunReset","getRating","i","stars","push","styles","icon","AsyncStorage","getItem","then","value","container","length","map","commentDisplayContainer","rowContainer","starIconContainer","textInput","textInputBox","text","buttonContainer","button","buttonText","space","StyleSheet","create","flex","paddingRight","minHeight","width","backgroundColor","borderRadius","padding","marginBottom","flexDirection","justifyContent","fontWeight","fontSize","color","height","textAlign","borderColor","borderWidth","marginRight","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  View,\n  StyleSheet,\n  Text,\n  TextInput,\n  TouchableHighlight,\n  AsyncStorage,\n} from 'react-native';\nimport { deviceHeight, deviceWidth } from '../constants/Layout';\nimport { Ionicons } from '@expo/vector-icons';\n\nexport default class Comment extends Component {\n  state = {\n    rating: 0,\n    list: this.props.apartmentObject.comments,\n    commentMessage: '',\n    username: '',\n  };\n\n  componentDidMount() {\n    AsyncStorage.getItem('username').then((value) =>\n      this.setState({ username: value })\n    );\n  }\n\n  handleButtonClick = (rate) => {\n    if (rate > 5 || rate < 1) {\n      return alert('Invalid Rating');\n    } else {\n      this.setState({\n        list: [\n          ...this.state.list,\n          {\n            rating: this.state.rating,\n            comment: this.state.commentMessage,\n            username: this.state.username,\n          },\n        ],\n        commentMessage: '',\n        rating: '',\n      });\n    }\n  };\n\n  handleButtunReset = () => {\n    this.setState({\n      commentMessage: '',\n      rating: '',\n    });\n  };\n\n  getRating = (rate) => {\n    if (rate > 5 || rate < 1) {\n      return;\n    } else {\n      let i = 0;\n      let stars = [];\n      while (i < rate) {\n        i++;\n        stars.push(<Ionicons style={styles.icon} name='ios-star' />);\n      }\n      return stars;\n    }\n  };\n\n  render() {\n    return (\n      <View style={styles.container}>\n        {this.state.list.length > 0 &&\n          this.state.list.map((comment) => (\n            <View style={styles.commentDisplayContainer}>\n              <View style={styles.rowContainer}>\n                <Text style={styles.username}>{comment.username}</Text>\n                <View style={styles.starIconContainer}>\n                  {this.getRating(comment.rating)}\n                </View>\n              </View>\n              <View>\n                <Text>\n                  <Text>{comment.comment}</Text>\n                </Text>\n              </View>\n            </View>\n          ))}\n        <View>\n          <Text>Add Your Comment</Text>\n          <TextInput\n            style={styles.textInput}\n            onChangeText={(rating) => this.setState({ rating })}\n            value={this.state.rating}\n            placeholder='Rate from 1 - 5'\n            keyboardType='numeric'\n          />\n          <TextInput\n            multiline={true}\n            style={styles.textInputBox}\n            onChangeText={(text) => {\n              this.setState({\n                commentMessage: text,\n              });\n            }}\n            value={this.state.commentMessage}\n            placeholder='Share your own experience at this place...'\n          />\n        </View>\n        <View style={styles.buttonContainer}>\n          <View style={styles.rowContainer}>\n            <TouchableHighlight\n              underlayColor='transparent'\n              style={styles.button}\n              onPress={() => this.handleButtonClick(this.state.rating)}\n            >\n              <View>\n                <Text style={styles.buttonText}>Submit</Text>\n              </View>\n            </TouchableHighlight>\n\n            <View style={styles.space}></View>\n            <TouchableHighlight\n              underlayColor='transparent'\n              style={styles.button}\n              onPress={this.handleButtunReset}\n            >\n              <View>\n                <Text style={styles.buttonText}>Reset</Text>\n              </View>\n            </TouchableHighlight>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingRight: 2 * (deviceWidth / 20),\n  },\n  commentDisplayContainer: {\n    minHeight: 2 * (deviceHeight / 20),\n    width: 16.5 * (deviceWidth / 20),\n    backgroundColor: '#eaeaea',\n    borderRadius: 10,\n    padding: 10,\n    marginBottom: 0.3 * (deviceHeight / 20),\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  username: {\n    fontWeight: 'bold',\n  },\n  starIconContainer: {\n    flexDirection: 'row',\n  },\n  icon: {\n    fontSize: 0.5 * (deviceHeight / 20),\n    color: '#ef4923',\n  },\n  textInput: {\n    height: 0.8 * (deviceHeight / 20),\n    width: 16.5 * (deviceWidth / 20),\n    textAlign: 'left',\n    borderColor: '#dddddd',\n    borderWidth: 1,\n    backgroundColor: '#eaeaea',\n    padding: 4,\n    marginBottom: 0.2 * (deviceHeight / 20),\n  },\n  textInputBox: {\n    height: 3 * (deviceHeight / 20),\n    width: 16.5 * (deviceWidth / 20),\n    textAlign: 'left',\n    borderColor: '#dddddd',\n    borderWidth: 1,\n    backgroundColor: '#eaeaea',\n    marginRight: 0.5 * (deviceWidth / 20),\n    padding: 4,\n    marginBottom: 0.2 * (deviceHeight / 20),\n  },\n  buttonContainer: {\n    alignItems: 'flex-end',\n    marginBottom: 1 * (deviceHeight / 20),\n  },\n  button: {\n    height: 0.7 * (deviceHeight / 20),\n    width: 4 * (deviceWidth / 20),\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#0a2e49',\n  },\n  buttonText: {\n    color: '#ffffff',\n  },\n  space: {\n    width: 0.3 * (deviceWidth / 20),\n  },\n});\n"]},"metadata":{},"sourceType":"module"}