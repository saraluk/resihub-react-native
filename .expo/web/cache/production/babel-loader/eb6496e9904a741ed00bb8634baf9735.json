{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{Component}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import AsyncStorage from\"react-native-web/dist/exports/AsyncStorage\";import Image from\"react-native-web/dist/exports/Image\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Alert from\"react-native-web/dist/exports/Alert\";import{deviceHeight,deviceWidth}from\"../constants/Layout\";import*as ImagePicker from'expo-image-picker';import Constants from'expo-constants';import*as Permissions from'expo-permissions';var ProfileScreen=function(_Component){_inherits(ProfileScreen,_Component);function ProfileScreen(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProfileScreen);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProfileScreen)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={image:'https://codehs.com/uploads/3fb254527bfe2f367b433f75a741e2b1',name:'',username:'',email:'',phone:'',school:'',profilePageDisplay:'block',editProfilePageDisplay:'none'};_this.componentDidMount=function(){_this.fetchUserInfo();};_this.fetchUserInfo=function(){AsyncStorage.getItem('name').then(function(value){return _this.setState({name:value});});AsyncStorage.getItem('username').then(function(value){return _this.setState({username:value});});AsyncStorage.getItem('email').then(function(value){return _this.setState({email:value});});AsyncStorage.getItem('phone').then(function(value){return _this.setState({phone:value});});AsyncStorage.getItem('school').then(function(value){return _this.setState({school:value});});AsyncStorage.getItem('image').then(function(value){if(value===null){_this.setState({image:'https://codehs.com/uploads/3fb254527bfe2f367b433f75a741e2b1'});}else{_this.setState({image:value});}});};_this.handleProfilePageDisplay=function(){_this.setState({profilePageDisplay:'block',editProfilePageDisplay:'none'});};_this.handleEditProfilePageDisplay=function(){_this.setState({profilePageDisplay:'none',editProfilePageDisplay:'block'});};_this.handleSaveEditProfile=function(){AsyncStorage.setItem('name',_this.state.name);AsyncStorage.setItem('username',_this.state.username);AsyncStorage.setItem('email',_this.state.email);AsyncStorage.setItem('school',_this.state.school);AsyncStorage.setItem('image',_this.state.image);_this.fetchUserInfo();_this.setState({profilePageDisplay:'block',editProfilePageDisplay:'none'});};_this.handleCancelEditProfile=function(){_this.fetchUserInfo();_this.setState({profilePageDisplay:'block',editProfilePageDisplay:'none'});};_this.getPermissionAsync=function _callee(){var _await$Permissions$as,status;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Constants.platform.ios){_context.next=6;break;}_context.next=3;return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));case 3:_await$Permissions$as=_context.sent;status=_await$Permissions$as.status;if(status!=='granted'){alert('Permissions to access camera roll are needed to change profile photo');}case 6:case\"end\":return _context.stop();}}});};_this.changePhoto=function _callee2(){var result;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.getPermissionAsync();_context2.prev=1;_context2.next=4;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.All,allowsEditing:true,aspect:[4,3],quality:1}));case 4:result=_context2.sent;if(!result.cancelled){_this.setState({image:result.uri});}console.log(result);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},null,null,[[1,9]]);};return _this;}_createClass(ProfileScreen,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(View,{style:styles.container},React.createElement(View,{style:{display:this.state.profilePageDisplay,width:deviceWidth,height:deviceHeight}},React.createElement(View,{style:styles.profilePhotoContainer},React.createElement(View,{style:styles.backgroundContainer},React.createElement(Image,{source:{uri:this.state.image},style:styles.photo}))),React.createElement(View,{style:styles.profileInfoContainer},React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.sectionHeader},\"Personal Information\"),React.createElement(TouchableHighlight,{onPress:this.handleEditProfilePageDisplay},React.createElement(View,{style:styles.button},React.createElement(Text,{style:styles.buttonText},\"Edit\")))),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Name: \"),React.createElement(Text,{style:styles.info},this.state.name)),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Username: \"),React.createElement(Text,{style:styles.info},this.state.username)),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Email: \"),React.createElement(Text,{style:styles.info},this.state.email)),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Phone: \"),React.createElement(Text,{style:styles.info},this.state.phone)),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"School: \"),React.createElement(Text,{style:styles.info},this.state.school)))),React.createElement(View,{style:{display:this.state.editProfilePageDisplay,width:deviceWidth,height:deviceHeight}},React.createElement(View,{style:styles.profilePhotoContainer},React.createElement(View,{style:styles.backgroundContainer},React.createElement(Image,{source:{uri:this.state.image},style:styles.photo}))),React.createElement(View,{style:styles.buttonContainer},React.createElement(TouchableHighlight,{onPress:this.changePhoto},React.createElement(View,{style:styles.changePhotoButton},React.createElement(Text,{style:styles.buttonText},\"Change Profile Photo\")))),React.createElement(View,{style:styles.profileInfoContainer},React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.sectionHeader},\"Personal Information\")),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Name\"),React.createElement(TextInput,{style:styles.textInput,onChangeText:function onChangeText(name){return _this2.setState({name:name});},value:this.state.name,placeholder:\"Name\"})),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Username\"),React.createElement(TextInput,{style:styles.textInput,onChangeText:function onChangeText(username){return _this2.setState({username:username});},value:this.state.username,placeholder:\"Username\"})),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Email\"),React.createElement(TextInput,{style:styles.textInput,onChangeText:function onChangeText(email){return _this2.setState({email:email});},value:this.state.email,placeholder:\"Email\"})),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"Phone\"),React.createElement(TextInput,{style:styles.textInput,onChangeText:function onChangeText(phone){return _this2.setState({phone:phone});},value:this.state.phone,placeholder:\"Phone\"})),React.createElement(View,{style:styles.rowContainer},React.createElement(Text,{style:styles.fieldLabel},\"School\"),React.createElement(TextInput,{style:styles.textInput,onChangeText:function onChangeText(school){return _this2.setState({school:school});},value:this.state.school,placeholder:\"School\"})),React.createElement(View,{style:styles.rowContainer},React.createElement(TouchableHighlight,{onPress:this.handleSaveEditProfile},React.createElement(View,{style:styles.button},React.createElement(Text,{style:styles.buttonText},\"Save\"))),React.createElement(TouchableHighlight,{onPress:this.handleCancelEditProfile},React.createElement(View,{style:styles.button},React.createElement(Text,{style:styles.buttonText},\"Cancel\")))))));}}]);return ProfileScreen;}(Component);export{ProfileScreen as default};var styles=StyleSheet.create({container:{flex:1,backgroundColor:'#ffffff'},profilePhotoContainer:{height:6*(deviceHeight/20),width:deviceWidth},backgroundContainer:{flex:0.6,backgroundColor:'#ef4923',alignItems:'center',justifyContent:'flex-start'},photo:{marginTop:1.5*(deviceHeight/20),height:4*(deviceHeight/20),width:4*(deviceHeight/20),borderRadius:100},buttonContainer:{alignItems:'center',justifyContent:'center',marginBottom:10},SaveCanclebuttonContainer:{alignItems:'center',justifyContent:'space-around',marginBottom:20,flexDirection:'row'},changePhotoButton:{height:0.7*(deviceHeight/20),width:10*(deviceWidth/20),borderRadius:50,justifyContent:'center',alignItems:'center',backgroundColor:'#0a2e49'},button:{height:0.7*(deviceHeight/20),width:4*(deviceWidth/20),borderRadius:50,justifyContent:'center',alignItems:'center',backgroundColor:'#0a2e49'},buttonText:{textAlign:'center',fontSize:0.35*(deviceHeight/20),color:'#ffffff'},profileInfoContainer:{borderTopColor:'#dddddd',borderTopWidth:1,flex:1,paddingHorizontal:1.5*(deviceWidth/20),paddingVertical:0.5*(deviceHeight/20)},rowContainer:{flexDirection:'row',justifyContent:'space-between',marginVertical:0.2*(deviceHeight/20)},sectionHeader:{fontWeight:'bold'},textInput:{width:11*(deviceWidth/20),textAlign:'left',borderBottomColor:'#dddddd',borderBottomWidth:1},info:{width:11*(deviceWidth/20),textAlign:'left',marginBottom:5}});","map":{"version":3,"sources":["/Users/saraluk/Documents/resihub-react-native/screens/ProfileScreen.js"],"names":["React","Component","deviceHeight","deviceWidth","ImagePicker","Constants","Permissions","ProfileScreen","state","image","name","username","email","phone","school","profilePageDisplay","editProfilePageDisplay","componentDidMount","fetchUserInfo","AsyncStorage","getItem","then","value","setState","handleProfilePageDisplay","handleEditProfilePageDisplay","handleSaveEditProfile","setItem","handleCancelEditProfile","getPermissionAsync","platform","ios","askAsync","CAMERA_ROLL","status","alert","changePhoto","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uri","console","log","styles","container","display","width","height","profilePhotoContainer","backgroundContainer","photo","profileInfoContainer","rowContainer","sectionHeader","button","buttonText","fieldLabel","info","buttonContainer","changePhotoButton","textInput","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","marginTop","borderRadius","marginBottom","SaveCanclebuttonContainer","flexDirection","textAlign","fontSize","color","borderTopColor","borderTopWidth","paddingHorizontal","paddingVertical","marginVertical","fontWeight","borderBottomColor","borderBottomWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableHighlight,\n  AsyncStorage,\n  Image,\n  TextInput,\n  Alert,\n} from 'react-native';\nimport { deviceHeight, deviceWidth } from '../constants/Layout';\nimport * as ImagePicker from 'expo-image-picker';\nimport Constants from 'expo-constants';\nimport * as Permissions from 'expo-permissions';\n\nexport default class ProfileScreen extends Component {\n  state = {\n    image: 'https://codehs.com/uploads/3fb254527bfe2f367b433f75a741e2b1',\n    name: '',\n    username: '',\n    email: '',\n    phone: '',\n    school: '',\n    profilePageDisplay: 'block',\n    editProfilePageDisplay: 'none',\n  };\n  componentDidMount = () => {\n    this.fetchUserInfo();\n  };\n\n  fetchUserInfo = () => {\n    AsyncStorage.getItem('name').then((value) =>\n      this.setState({ name: value })\n    );\n    AsyncStorage.getItem('username').then((value) =>\n      this.setState({ username: value })\n    );\n    AsyncStorage.getItem('email').then((value) =>\n      this.setState({ email: value })\n    );\n    AsyncStorage.getItem('phone').then((value) =>\n      this.setState({ phone: value })\n    );\n    AsyncStorage.getItem('school').then((value) =>\n      this.setState({ school: value })\n    );\n    AsyncStorage.getItem('image').then((value) => {\n      if (value === null) {\n        this.setState({\n          image: 'https://codehs.com/uploads/3fb254527bfe2f367b433f75a741e2b1',\n        });\n      } else {\n        this.setState({\n          image: value,\n        });\n      }\n    });\n  };\n\n  handleProfilePageDisplay = () => {\n    this.setState({\n      profilePageDisplay: 'block',\n      editProfilePageDisplay: 'none',\n    });\n  };\n\n  handleEditProfilePageDisplay = () => {\n    this.setState({\n      profilePageDisplay: 'none',\n      editProfilePageDisplay: 'block',\n    });\n  };\n\n  handleSaveEditProfile = () => {\n    AsyncStorage.setItem('name', this.state.name);\n    AsyncStorage.setItem('username', this.state.username);\n    AsyncStorage.setItem('email', this.state.email);\n    AsyncStorage.setItem('school', this.state.school);\n    AsyncStorage.setItem('image', this.state.image);\n    this.fetchUserInfo();\n    this.setState({\n      profilePageDisplay: 'block',\n      editProfilePageDisplay: 'none',\n    });\n  };\n\n  handleCancelEditProfile = () => {\n    this.fetchUserInfo();\n    this.setState({\n      profilePageDisplay: 'block',\n      editProfilePageDisplay: 'none',\n    });\n  };\n\n  getPermissionAsync = async () => {\n    if (Constants.platform.ios) {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== 'granted') {\n        alert(\n          'Permissions to access camera roll are needed to change profile photo'\n        );\n      }\n    }\n  };\n\n  changePhoto = async () => {\n    this.getPermissionAsync();\n    try {\n      let result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1,\n      });\n      if (!result.cancelled) {\n        this.setState({ image: result.uri });\n      }\n\n      console.log(result);\n    } catch (E) {\n      console.log(E);\n    }\n  };\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <View\n          style={{\n            display: this.state.profilePageDisplay,\n            width: deviceWidth,\n            height: deviceHeight,\n          }}\n        >\n          <View style={styles.profilePhotoContainer}>\n            <View style={styles.backgroundContainer}>\n              <Image source={{ uri: this.state.image }} style={styles.photo} />\n            </View>\n          </View>\n\n          <View style={styles.profileInfoContainer}>\n            <View style={styles.rowContainer}>\n              <Text style={styles.sectionHeader}>Personal Information</Text>\n              <TouchableHighlight onPress={this.handleEditProfilePageDisplay}>\n                <View style={styles.button}>\n                  <Text style={styles.buttonText}>Edit</Text>\n                </View>\n              </TouchableHighlight>\n            </View>\n\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Name: </Text>\n              <Text style={styles.info}>{this.state.name}</Text>\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Username: </Text>\n              <Text style={styles.info}>{this.state.username}</Text>\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Email: </Text>\n              <Text style={styles.info}>{this.state.email}</Text>\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Phone: </Text>\n              <Text style={styles.info}>{this.state.phone}</Text>\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>School: </Text>\n              <Text style={styles.info}>{this.state.school}</Text>\n            </View>\n          </View>\n        </View>\n\n        <View\n          style={{\n            display: this.state.editProfilePageDisplay,\n            width: deviceWidth,\n            height: deviceHeight,\n          }}\n        >\n          <View style={styles.profilePhotoContainer}>\n            <View style={styles.backgroundContainer}>\n              <Image source={{ uri: this.state.image }} style={styles.photo} />\n            </View>\n          </View>\n\n          <View style={styles.buttonContainer}>\n            <TouchableHighlight onPress={this.changePhoto}>\n              <View style={styles.changePhotoButton}>\n                <Text style={styles.buttonText}>Change Profile Photo</Text>\n              </View>\n            </TouchableHighlight>\n          </View>\n\n          <View style={styles.profileInfoContainer}>\n            <View style={styles.rowContainer}>\n              <Text style={styles.sectionHeader}>Personal Information</Text>\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Name</Text>\n              <TextInput\n                style={styles.textInput}\n                onChangeText={(name) => this.setState({ name })}\n                value={this.state.name}\n                placeholder='Name'\n              />\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Username</Text>\n              <TextInput\n                style={styles.textInput}\n                onChangeText={(username) => this.setState({ username })}\n                value={this.state.username}\n                placeholder='Username'\n              />\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Email</Text>\n              <TextInput\n                style={styles.textInput}\n                onChangeText={(email) => this.setState({ email })}\n                value={this.state.email}\n                placeholder='Email'\n              />\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>Phone</Text>\n              <TextInput\n                style={styles.textInput}\n                onChangeText={(phone) => this.setState({ phone })}\n                value={this.state.phone}\n                placeholder='Phone'\n              />\n            </View>\n            <View style={styles.rowContainer}>\n              <Text style={styles.fieldLabel}>School</Text>\n              <TextInput\n                style={styles.textInput}\n                onChangeText={(school) => this.setState({ school })}\n                value={this.state.school}\n                placeholder='School'\n              />\n            </View>\n            <View style={styles.rowContainer}>\n              <TouchableHighlight onPress={this.handleSaveEditProfile}>\n                <View style={styles.button}>\n                  <Text style={styles.buttonText}>Save</Text>\n                </View>\n              </TouchableHighlight>\n\n              <TouchableHighlight onPress={this.handleCancelEditProfile}>\n                <View style={styles.button}>\n                  <Text style={styles.buttonText}>Cancel</Text>\n                </View>\n              </TouchableHighlight>\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#ffffff',\n  },\n  profilePhotoContainer: {\n    height: 6 * (deviceHeight / 20),\n    width: deviceWidth,\n  },\n  backgroundContainer: {\n    flex: 0.6,\n    backgroundColor: '#ef4923',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  photo: {\n    marginTop: 1.5 * (deviceHeight / 20),\n    height: 4 * (deviceHeight / 20),\n    width: 4 * (deviceHeight / 20),\n    borderRadius: 100,\n  },\n  buttonContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 10,\n  },\n\n  SaveCanclebuttonContainer: {\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n    flexDirection: 'row',\n  },\n\n  changePhotoButton: {\n    height: 0.7 * (deviceHeight / 20),\n    width: 10 * (deviceWidth / 20),\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#0a2e49',\n  },\n  button: {\n    height: 0.7 * (deviceHeight / 20),\n    width: 4 * (deviceWidth / 20),\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#0a2e49',\n  },\n  buttonText: {\n    textAlign: 'center',\n    fontSize: 0.35 * (deviceHeight / 20),\n    color: '#ffffff',\n  },\n  profileInfoContainer: {\n    borderTopColor: '#dddddd',\n    borderTopWidth: 1,\n    flex: 1,\n    paddingHorizontal: 1.5 * (deviceWidth / 20),\n    paddingVertical: 0.5 * (deviceHeight / 20),\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginVertical: 0.2 * (deviceHeight / 20),\n  },\n  sectionHeader: {\n    fontWeight: 'bold',\n  },\n  textInput: {\n    width: 11 * (deviceWidth / 20),\n    textAlign: 'left',\n    borderBottomColor: '#dddddd',\n    borderBottomWidth: 1,\n  },\n  info: {\n    width: 11 * (deviceWidth / 20),\n    textAlign: 'left',\n    marginBottom: 5,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}